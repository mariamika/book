!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=24)}({24:function(t,e,i){window.SfGetConditionalStep=function(t,e){if("SfHandlerFieldPicker"==e.Type)return new SfHandlerFieldPicker(smartFormsTranslation,t,e);if("SfHandlerConditionGenerator"==e.Type)return new SfHandlerConditionGenerator(smartFormsTranslation,t,e);if("SfNamePicker"==e.Type)return new SfNamePicker(smartFormsTranslation,t,e);if("SfTextPicker"==e.Type)return new SfTextPicker(smartFormsTranslation,t,e);if("SfStepPicker"==e.Type)return new SfStepPicker(smartFormsTranslation,t,e);throw"invalid conditional step"},i(25),i(26),i(27),i(28),i(29),i(30),i(31)},25:function(t,e,i){"use strict";var n=function(){function t(t){this.FormBuilder=t,this.PanelContainer=rnJQuery("#sfPanelContainer"),this.SettingsPanel=rnJQuery("#formSettingsScrollArea"),this.ConditionalHandlersListScreen=null,this.CurrentLeft=0,this.ConditionIdToSave=-1,this.SavedConditionList=rnJQuery("#sfSavedConditionList");var e=this;this.SavedConditionList.find("#sfAddConditionalLogic").click(function(){e.AddNew()}),this.Translations=smartFormsTranslation}return t.prototype.AddNew=function(){this.GoToConditionalLogicList()},t.prototype.ClearPanelContainer=function(){this.ConditionIdToSave=-1,this.PanelContainer.find("tr:first > td:gt(0)").remove(),this.PanelContainer.css("left",0),this.CurrentLeft=0},t.prototype.GoToConditionalLogicList=function(){this.ConditionalHandlersListScreen=this.CreateConditionalHandlersListScreen(),this.GoToScreen(this.ConditionalHandlersListScreen)},t.prototype.CreateConditionalHandlersListScreen=function(){for(var t=SmartFormsGetConditionalHandlerArray(),e=rnJQuery("<div id='sfConditionalList' style='width:570px;'><table style='width: 100%'></table></div>"),i=this,n=e.find("table"),o=0;o<t.length;o++)if(t[o].ShouldShow(this.FormBuilder)){var r=this.CreateHandlerItem(t[o]);n.append(r)}var s=rnJQuery('<div style="width: 100%; margin-top:20px;margin-left: 5px;"></div>');return s.append("<a  style='float:left' class='smartFormsSettingsButton smartFormsPrevious'>"+this.Translations.Previous+"</a>"),s.find(".smartFormsPrevious").click(function(){i.GoToRoot()}),e.append(s),e},t.prototype.CreateHandlerItem=function(t){var e=rnJQuery("<tr><td style='cursor: pointer;text-align: center;'><a style='cursor: pointer;'>"+t.Label+"</a></td></tr>"),i=this;return e.find("td").click(function(){i.HandlerSelected(t.id)}),e},t.prototype.HandlerSelected=function(t){this.ConditionIdToSave=-1,this.StartHandlerConfiguration(SmartFormsGetConditionalHandlerByType(t,null),!0)},t.prototype.StartHandlerConfiguration=function(t,e){if(this.SelectedHandler=t,this.HandlerSteps=this.SelectedHandler.GetConditionalSteps(),e)for(var i=0;i<this.HandlerSteps.length;i++)this.HandlerSteps[i].IsNew=!0;this.CurrentStepIndex=-1,this.GoToNextStep()},t.prototype.GoToNextStep=function(){if(null!=this.CurrentStep){if(!this.CurrentStep.Commit())return;this.CurrentStep.Exit(),this.CurrentStep.StepConfiguration.IsNew=!1}if(this.CurrentStepIndex==this.HandlerSteps.length-1)return this.SaveCondition(),void this.GoToRoot();this.CurrentStepIndex++;var t=this.HandlerSteps[this.CurrentStepIndex];this.CurrentStep=SfGetConditionalStep(this.FormBuilder,t),t.Container=rnJQuery("<div style='box-sizing: border-box; width:"+this.GetPanelWidth()+"px;'></div>"),this.CurrentStep.InitializeScreen(t.Container),this.AddStepButtons(t.Container),this.GoToScreen(t.Container)},t.prototype.AddStepButtons=function(t){var e=rnJQuery('<div style="width: 100%; margin-top:20px;"></div>');e.append("<a  style='float:left' class='smartFormsSettingsButton smartFormsPrevious'>"+this.Translations.Previous+"</a>");var i=this.CurrentStepIndex==this.HandlerSteps.length-1?this.Translations.Finish:this.Translations.Next;e.append("<a  style='float:right' class='smartFormsSettingsButton smartFormsNext'>"+i+"</a>");var n=this;e.find(".smartFormsPrevious").click(function(){n.GoToPreviousStep()}),e.find(".smartFormsNext").click(function(){n.GoToNextStep()}),t.append(e)},t.prototype.SaveCondition=function(){if(this.ConditionIdToSave<=0)this.FormBuilder.Conditions.push(this.SelectedHandler.GetOptionsToSave());else for(var t=0;t<this.FormBuilder.Conditions.length;t++)this.FormBuilder.Conditions[t].Id==this.ConditionIdToSave&&(this.FormBuilder.Conditions[t]=this.SelectedHandler.GetOptionsToSave())},t.prototype.GoToRoot=function(){this.CurrentStep=null;var t=this;this.PanelContainer.animate({left:0},{complete:function(){t.ClearPanelContainer(),t.FillSavedConditionList()}}),this.SettingsPanel.animate({width:this.GetPanelWidth()})},t.prototype.ConditionSelected=function(t){this.ConditionIdToSave=t.Id,this.StartHandlerConfiguration(SmartFormsGetConditionalHandlerByType(t.Type,t),!1)},t.prototype.CreateConditionListItem=function(t){var e=this,i=rnJQuery('<tr><td class="SavedConditionItem"><a style="cursor: pointer;"> '+RedNaoEscapeHtml(t.Label)+'</a><img style=" margin-left:5px; cursor: pointer;width:15px;height:15px;" class="deleteCondition" src="'+smartFormsRootPath+'images/delete.png" title="Delete"></td></tr>');return i.find("a").click(function(){e.ConditionSelected(t)}),i.find(".deleteCondition").click(function(){confirm(e.Translations.AreYouSureYouWantToDelete+" "+t.Label+"?")&&(e.FormBuilder.Conditions.splice(e.FormBuilder.Conditions.indexOf(t),1),i.remove())}),i},t.prototype.FillSavedConditionList=function(){var t=this;this.SavedConditionList.empty();for(var e=0;e<this.FormBuilder.Conditions.length;e++)this.SavedConditionList.append(this.CreateConditionListItem(this.FormBuilder.Conditions[e]));this.SavedConditionList.append('<tr><td class="SavedConditionItem"><img id="cloneFormElement" style="width: 20px;height: 20px;margin-right: 5px;vertical-align: middle;" src="'+smartFormsRootPath+'images/clone.png" title="Clone"><a id="sfAddConditionalLogic" style="vertical-align: middle;cursor: pointer;">'+this.Translations.AddConditionalLogic+"</a></td></tr>"),this.SavedConditionList.find("#cloneFormElement,#sfAddConditionalLogic").click(function(){t.AddNew()})},t.prototype.GoToPreviousStep=function(){if(null!=this.CurrentStep&&this.CurrentStep.Exit(),this.CurrentStepIndex--,-1==this.CurrentStepIndex)this.CurrentStep=null;else{var t=this.HandlerSteps[this.CurrentStepIndex];t.Container.empty(),this.CurrentStep=SfGetConditionalStep(this.FormBuilder,t),this.CurrentStep.InitializeScreen(t.Container),this.AddStepButtons(t.Container)}this.CurrentLeft+=this.GetPanelWidth();var e=this;this.PanelContainer.animate({left:this.CurrentLeft},{complete:function(){e.PanelContainer.find("tr:first").children().last().remove()}}),this.SettingsPanel.animate({width:this.GetPanelWidth()})},t.prototype.GoToScreen=function(t){var e=rnJQuery('<td style="vertical-align: top"></td>');e.append(t),this.PanelContainer.find("tr:first").append(e),this.CurrentLeft-=this.SettingsPanel.width(),this.PanelContainer.animate({left:this.CurrentLeft}),this.SettingsPanel.animate({width:this.GetPanelWidth()})},t.prototype.GetPanelWidth=function(){return null==this.CurrentStep?570:this.CurrentStep.Width},t}();window.SfConditionalLogicManager=n},26:function(t,e){var i=function(){return function(t,e,i){this.FormBuilder=e,this.Translations=t,this.StepConfiguration=i,this.Width=570}}();window.SfConditionalStepBase=i},27:function(t,e){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,i,n){var o=t.call(this,e,i,n)||this;return o.StepConfiguration.Options.IsNew=o.StepConfiguration.IsNew,o.ConditionDesigner=new SFConditionDesigner(o.FormBuilder.RedNaoFormElements,o.StepConfiguration.Options),o.Width=570,o}return n(e,t),e.prototype.InitializeScreen=function(t){t.css("padding-left","5px"),t.css("padding-right","5px"),t.append('<h2 style="text-align: left">'+this.Translations[this.StepConfiguration.Label]+"</h2>"),this.ConditionDesigner.SetAllowJavascript(),t.append(this.ConditionDesigner.GetDesigner())},e.prototype.Exit=function(){},e.prototype.Commit=function(){if(this.ConditionDesigner.IsValid()){var t=this.ConditionDesigner.GetData();return this.StepConfiguration.Options.Conditions=t.Conditions,this.StepConfiguration.Options.CompiledCondition=t.CompiledCondition,!0}return!1},e}(SfConditionalStepBase);window.SfHandlerConditionGenerator=o},28:function(t,e){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return n(e,t),e.prototype.InitializeScreen=function(t){this.FormBuilder.Disable(),t.css("text-align","left"),t.css("padding-left","5px"),t.css("padding-right","5px");var e=rnJQuery(document),i=this;rnJQuery("#redNaoElementlist").on("click.FieldPicker",".rednao-control-group",function(){i.FormElementClicked(rnJQuery(this))}),rnJQuery("#sfMainContainer").append('<div class="smartFormsSlider smartFormsFieldPickerOverlay"><div class="ui-widget-overlay" style="z-index: 1001;width:'+e.width()+"px;height:"+e.height()+'" ></div></div>'),rnJQuery(".rednaoformbuilder").addClass("smartFormsFieldPick");var n=rnJQuery('<div class="fieldPickContainer" style="margin:10px;"></div>'),o="",r=[];this.StepConfiguration.IsNew||(r=this.StepConfiguration.Options.AffectedItems);for(var s=0;s<this.FormBuilder.RedNaoFormElements.length;s++)o+="<option "+(r.indexOf(this.FormBuilder.RedNaoFormElements[s].Options.Id)>=0?'selected="selected"':"")+'  value="'+this.FormBuilder.RedNaoFormElements[s].Options.Id+'">'+this.FormBuilder.RedNaoFormElements[s].GetFriendlyName()+"</option>";this.Select=rnJQuery('<select size="margin-left:10px;" multiple="multiple" id="redNaoFieldPicked" style="width:100%">'+o+"</select>"),n.append(this.Select),this.Select.select2({allowClear:!0}).on("change",function(){i.SelectChanged()}),t.append('<h2 style="text-align: left">'+this.Translations[this.StepConfiguration.Label]+"</h2>"),t.append(n)},e.prototype.Exit=function(){this.FormBuilder.Enable(),rnJQuery("#redNaoElementlist").off("click.FieldPicker"),rnJQuery(".fieldPickerSelected").removeClass("fieldPickerSelected"),rnJQuery(".rednaoformbuilder").removeClass("smartFormsFieldPick"),rnJQuery(".smartFormsFieldPickerOverlay").remove()},e.prototype.Commit=function(){var t=this.Select.select2("val");return 0==t.length?(alert(this.Translations.SelectAtLeastOneField),!1):(this.StepConfiguration.Options.AffectedItems=t,!0)},e.prototype.FormElementClicked=function(t){var e=this.FormBuilder.GetFormElementByContainer(t).Id,i=this.Select.select2("val");rnJQuery.inArray(e,i)>=0||(i.push(e),this.Select.select2("val",i).change())},e.prototype.SelectChanged=function(){var t=this.Select.select2("val");rnJQuery(".fieldPickerSelected").removeClass("fieldPickerSelected");for(var e=0;e<t.length;e++)rnJQuery("#"+t[e]).addClass("fieldPickerSelected")},e}(SfConditionalStepBase);window.SfHandlerFieldPicker=o},29:function(t,e){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return n(e,t),e.prototype.InitializeScreen=function(t){t.css("text-align","left"),t.css("padding-left","5px"),t.css("padding-right","5px"),t.append('<h2 style="text-align: left">'+this.Translations[this.StepConfiguration.Label]+"</h2>");var e=this.Translations.MyNewCondition+" "+this.StepConfiguration.Id;this.StepConfiguration.IsNew||(e=this.StepConfiguration.Options.Name),this.Title=rnJQuery('<input type="text" style="width: 100%;height: 40px;font-size: 20px;padding: 10px;">'),this.Title.val(e),t.append(this.Title)},e.prototype.Exit=function(){},e.prototype.Commit=function(){return""==this.Title.val().trim()?(alert(this.Translations.TheTitleCantBeEmpty),!1):(this.StepConfiguration.Options.Name=this.Title.val(),!0)},e}(SfConditionalStepBase);window.SfNamePicker=o},30:function(t,e){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return n(e,t),e.prototype.InitializeScreen=function(t){t.css("text-align","left"),t.css("padding-left","5px"),t.css("padding-right","5px"),t.append('<h2 style="text-align: left">'+this.Translations[this.StepConfiguration.Label]+"</h2>");var e="Invalid value";void 0!==this.StepConfiguration.Options&&void 0!==this.StepConfiguration.Options.Text&&(e=this.StepConfiguration.Options.Text),this.Title=rnJQuery('<input type="text" style="width: 100%;height: 40px;font-size: 20px;padding: 10px;">'),this.Title.val(e),t.append(this.Title)},e.prototype.Exit=function(){},e.prototype.Commit=function(){return this.StepConfiguration.Options.Text=this.Title.val(),!0},e}(SfConditionalStepBase);window.SfTextPicker=o},31:function(t,e){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return n(e,t),e.prototype.InitializeScreen=function(t){this.$container=t,t.css("text-align","left"),t.css("padding-left","5px"),t.css("padding-right","5px"),t.append('<h2 style="text-align: left">'+this.Translations[this.StepConfiguration.Label]+"</h2>");var e=0;if(null!=SmartFormsAddNewVar.FormBuilder.MultipleStepsDesigner)for(var i=function(i){var o="";n.StepConfiguration.IsNew||null!=n.StepConfiguration.Options.StepsToShow.find(function(t){return t==i.Id})&&(o='checked="checked"'),e++;var r=void 0;r="def"==i.Icon?'<span style="margin-left: 3px" class="badge badge-info">'+e+"</span> ":'<span class="'+i.Icon+'"></span> ',t.append('<div class="row" style="padding-left:20px;display: flex;vertical-align: middle;align-items: center;">\n                            <input '+o+' class="stepItem" type="checkbox" value="'+i.Id+'" style="margin:0"/>\n                            '+r+'<span style="margin-left: 3px;font-size: 15px;" >'+i.Text+"</span>\n                         </div>")},n=this,o=0,r=SmartFormsAddNewVar.FormBuilder.MultipleStepsDesigner.Options.Steps;o<r.length;o++){i(r[o])}},e.prototype.Exit=function(){},e.prototype.Commit=function(){var t=this;return this.StepConfiguration.Options.StepsToShow=[],this.$container.find(".stepItem:checked").each(function(e,i){t.StepConfiguration.Options.StepsToShow.push(rnJQuery(i).val())}),0!=this.StepConfiguration.Options.StepsToShow.length||(alert("Please select at least one step"),!1)},e}(SfConditionalStepBase);window.SfStepPicker=o}});
//# sourceMappingURL=conditionalManager_bundle.js.map